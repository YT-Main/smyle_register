{"remainingRequest":"/home/yt/programming/smyle_registration/smyle-register/node_modules/babel-loader/lib/index.js!/home/yt/programming/smyle_registration/smyle-register/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/yt/programming/smyle_registration/smyle-register/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yt/programming/smyle_registration/smyle-register/src/views/register2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/yt/programming/smyle_registration/smyle-register/src/views/register2.vue","mtime":1568537129755},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/cache-loader/dist/cjs.js","mtime":1561754867625},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/babel-loader/lib/index.js","mtime":1561846978944},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/cache-loader/dist/cjs.js","mtime":1561754867625},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/vue-loader/lib/index.js","mtime":1568438893547}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      count: 0\n    };\n  },\n  mounted: function mounted() {\n    var vid = document.querySelector('video');\n    navigator.mediaDevices.getUserMedia({\n      video: true\n    }) // request cam\n    .then(function (stream) {\n      vid.srcObject = stream; // don't use createObjectURL(MediaStream)\n\n      return vid.play(); // returns a Promise\n    }).then(function () {\n      // enable the button\n      var btn = document.querySelector('button');\n      btn.disabled = false;\n\n      btn.onclick = function (e) {\n        takeASnap().then(download);\n      };\n    });\n\n    function takeASnap() {\n      var canvas = document.createElement('canvas'); // create a canvas\n\n      var ctx = canvas.getContext('2d'); // get its context\n\n      canvas.width = vid.videoWidth; // set its size to the one of the video\n\n      canvas.height = vid.videoHeight;\n      ctx.drawImage(vid, 0, 0); // the video\n\n      return new Promise(function (res, rej) {\n        canvas.toBlob(res, 'image/jpeg'); // request a Blob from the canvas\n      });\n    }\n\n    function download(blob) {\n      // uses the <a download> to download a Blob\n      var a = document.createElement('a');\n      a.href = URL.createObjectURL(blob);\n      var reader = new FileReader();\n      reader.readAsDataURL(blob);\n\n      reader.onloadend = function () {\n        var base64data = reader.result;\n        axios.post('http://34.66.144.105/register2', {\n          image: base64data\n        });\n      };\n    }\n  }\n};",{"version":3,"sources":["register2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GALA;AAOA,EAAA,OAPA,qBAOA;AACA,QAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,OAAA,CAAA;AACA,IAAA,SAAA,CAAA,YAAA,CAAA,YAAA,CAAA;AAAA,MAAA,KAAA,EAAA;AAAA,KAAA,EAAA;AAAA,KACA,IADA,CACA,UAAA,MAAA,EAAA;AACA,MAAA,GAAA,CAAA,SAAA,GAAA,MAAA,CADA,CACA;;AACA,aAAA,GAAA,CAAA,IAAA,EAAA,CAFA,CAEA;AACA,KAJA,EAKA,IALA,CAKA,YAAA;AAAA;AACA,UAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,QAAA,CAAA;AACA,MAAA,GAAA,CAAA,QAAA,GAAA,KAAA;;AACA,MAAA,GAAA,CAAA,OAAA,GAAA,UAAA,CAAA,EAAA;AACA,QAAA,SAAA,GACA,IADA,CACA,QADA;AAEA,OAHA;AAIA,KAZA;;AAcA,aAAA,SAAA,GAAA;AACA,UAAA,MAAA,GAAA,QAAA,CAAA,aAAA,CAAA,QAAA,CAAA,CADA,CACA;;AACA,UAAA,GAAA,GAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,CAFA,CAEA;;AACA,MAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,UAAA,CAHA,CAGA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,WAAA;AACA,MAAA,GAAA,CAAA,SAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA,EALA,CAKA;;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,GAAA,EAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,GAAA,EAAA,YAAA,EADA,CACA;AACA,OAFA,CAAA;AAGA;;AACA,aAAA,QAAA,CAAA,IAAA,EAAA;AACA;AACA,UAAA,CAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AACA,MAAA,CAAA,CAAA,IAAA,GAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,YAAA;AACA,YAAA,UAAA,GAAA,MAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,gCAAA,EAAA;AAAA,UAAA,KAAA,EAAA;AAAA,SAAA;AACA,OAHA;AAIA;AACA;AA5CA,CAAA","sourcesContent":["<template>\n    <div class=\"home\">\n        <p style=\"color:white;\">You have taken {{count}} pictues</p>\n        <div v-if=\"count<8\" class=\"container3\">\n            \n            <video></video>\n            <button disabled v-on:click=\"count++\">\n                <img src=\"../assets/baseline_camera_alt_white_18dp.png\">\n            </button>\n        </div>\n        <router-link v-if=\"count>=8\" to=\"/main\">\n            <div class=\"registerFinal\">\n                <p>GO!</p>\n            </div>\n        </router-link>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n    data(){\n        return{\n            count: 0\n        }\n    },\n\n    mounted(){\n        const vid = document.querySelector('video');\nnavigator.mediaDevices.getUserMedia({video: true}) // request cam\n.then(stream => {\n  vid.srcObject = stream; // don't use createObjectURL(MediaStream)\n  return vid.play(); // returns a Promise\n})\n.then(()=>{ // enable the button\n  const btn = document.querySelector('button');\n  btn.disabled = false;\n  btn.onclick = e => {\n    takeASnap()\n    .then(download);\n  };\n});\n\nfunction takeASnap(){\n  const canvas = document.createElement('canvas'); // create a canvas\n  const ctx = canvas.getContext('2d'); // get its context\n  canvas.width = vid.videoWidth; // set its size to the one of the video\n  canvas.height = vid.videoHeight;\n  ctx.drawImage(vid, 0,0); // the video\n  return new Promise((res, rej)=>{\n    canvas.toBlob(res, 'image/jpeg'); // request a Blob from the canvas\n  });\n}\nfunction download(blob){\n  // uses the <a download> to download a Blob\n    let a = document.createElement('a'); \n    a.href = URL.createObjectURL(blob);\n   var reader = new FileReader();\n    reader.readAsDataURL(blob); \n    reader.onloadend = function() {\n    var base64data = reader.result;                \n    axios.post('http://34.66.144.105/register2',{image: base64data});\n    }\n}\n    }\n}\n</script>\n\n<style scoped>\nvideo{\n    height: 70%;\n    width: 80%; \n}\nbutton{\n    background: transparent;\n    border:transparent;\n    padding: 10vh;\n    bottom:0;\n    height:5vh;\n\n}\n.container3{\n    margin-top: 22.5vh;\n}\n.registerFinal{\n    width: 45%;\n    height: 7vh;\n    border-radius: 25px;\n    border-style: solid;\n    border-width: 2px;\n    border-color: white;\n    color: white;\n    margin-top: 45vh;\n    margin-left:25%;\n}\n</style>"],"sourceRoot":"src/views"}]}