{"remainingRequest":"/home/yt/programming/smyle_registration/smyle-register/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yt/programming/smyle_registration/smyle-register/src/views/register2.vue?vue&type=style&index=0&id=7132a476&scoped=true&lang=css&","dependencies":[{"path":"/home/yt/programming/smyle_registration/smyle-register/src/views/register2.vue","mtime":1568537129755},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/css-loader/index.js","mtime":1561754867678},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1568438893547},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/postcss-loader/src/index.js","mtime":1561754867863},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/cache-loader/dist/cjs.js","mtime":1561754867625},{"path":"/home/yt/programming/smyle_registration/smyle-register/node_modules/vue-loader/lib/index.js","mtime":1568438893547}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvideo{\n    height: 70%;\n    width: 80%; \n}\nbutton{\n    background: transparent;\n    border:transparent;\n    padding: 10vh;\n    bottom:0;\n    height:5vh;\n\n}\n.container3{\n    margin-top: 22.5vh;\n}\n.registerFinal{\n    width: 45%;\n    height: 7vh;\n    border-radius: 25px;\n    border-style: solid;\n    border-width: 2px;\n    border-color: white;\n    color: white;\n    margin-top: 45vh;\n    margin-left:25%;\n}\n",{"version":3,"sources":["register2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register2.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"home\">\n        <p style=\"color:white;\">You have taken {{count}} pictues</p>\n        <div v-if=\"count<8\" class=\"container3\">\n            \n            <video></video>\n            <button disabled v-on:click=\"count++\">\n                <img src=\"../assets/baseline_camera_alt_white_18dp.png\">\n            </button>\n        </div>\n        <router-link v-if=\"count>=8\" to=\"/main\">\n            <div class=\"registerFinal\">\n                <p>GO!</p>\n            </div>\n        </router-link>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n    data(){\n        return{\n            count: 0\n        }\n    },\n\n    mounted(){\n        const vid = document.querySelector('video');\nnavigator.mediaDevices.getUserMedia({video: true}) // request cam\n.then(stream => {\n  vid.srcObject = stream; // don't use createObjectURL(MediaStream)\n  return vid.play(); // returns a Promise\n})\n.then(()=>{ // enable the button\n  const btn = document.querySelector('button');\n  btn.disabled = false;\n  btn.onclick = e => {\n    takeASnap()\n    .then(download);\n  };\n});\n\nfunction takeASnap(){\n  const canvas = document.createElement('canvas'); // create a canvas\n  const ctx = canvas.getContext('2d'); // get its context\n  canvas.width = vid.videoWidth; // set its size to the one of the video\n  canvas.height = vid.videoHeight;\n  ctx.drawImage(vid, 0,0); // the video\n  return new Promise((res, rej)=>{\n    canvas.toBlob(res, 'image/jpeg'); // request a Blob from the canvas\n  });\n}\nfunction download(blob){\n  // uses the <a download> to download a Blob\n    let a = document.createElement('a'); \n    a.href = URL.createObjectURL(blob);\n   var reader = new FileReader();\n    reader.readAsDataURL(blob); \n    reader.onloadend = function() {\n    var base64data = reader.result;                \n    axios.post('http://34.66.144.105/register2',{image: base64data});\n    }\n}\n    }\n}\n</script>\n\n<style scoped>\nvideo{\n    height: 70%;\n    width: 80%; \n}\nbutton{\n    background: transparent;\n    border:transparent;\n    padding: 10vh;\n    bottom:0;\n    height:5vh;\n\n}\n.container3{\n    margin-top: 22.5vh;\n}\n.registerFinal{\n    width: 45%;\n    height: 7vh;\n    border-radius: 25px;\n    border-style: solid;\n    border-width: 2px;\n    border-color: white;\n    color: white;\n    margin-top: 45vh;\n    margin-left:25%;\n}\n</style>"]}]}